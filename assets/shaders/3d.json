{
    "language": "GLSL",
    "defines": {
        "SCENE_STATE_UNIFORMS": 0,
        "RENDER_PASS_UNIFORMS": 1,
        "TRANSFORMS_UNIFORMS": 2,
        "MATERIAL_UNIFORMS": 3
    },
    "vertex": {
        "in": [
            { "name": "attr_position",  "type": "vec4f" },
            { "name": "attr_normal",    "type": "vec4f" },
            { "name": "attr_texcoord",  "type": "vec4f" },
            { "name": "attr_tangent",   "type": "vec4f" },
            { "name": "attr_bitangent", "type": "vec4f" },
            { "name": "attr_blending" , "type": "vec4i" }
        ],
        "out": [
            { "name": "pass_position",  "type": "vec4f" },
            { "name": "pass_normal",    "type": "vec4f" },
            { "name": "pass_texcoord",  "type": "vec4f" },
            { "name": "pass_tangent",   "type": "vec4f" },
            { "name": "pass_bitangent", "type": "vec4f" },
            { "name": "pass_blending" , "type": "vec4i" }
        ],
        "buffers": [
            {
                "name": "scene_state_uniforms",
                "type": "uniform_buffer",
                "data": [
                    { "name": "u_proj", "type": "mat4f" },
                    { "name": "u_view", "type": "mat4f" }
                ]
            },
            {
                "name": "render_pass_uniforms",
                "type": "uniform_buffer",
                "data": [
                    { "name": "u_placeholder", "type": "mat4f" }
                ]
            },
            {
                "name": "transforms_uniforms",
                "type": "uniform_buffer",
                "data": [
                    { "name": "u_model", "type": "mat4f" }
                ]
            },
            {
                "name": "material_uniforms",
                "type": "uniform_buffer",
                "data": [
                    { "name": "u_ambient", "type": "vec4f" },
                    { "name": "u_diffuse", "type": "vec4f" },
                    { "name": "u_specular", "type": "vec4f" },
                    { "name": "u_shininess", "type": "float" }
                ]
            }
        ],
        "main": [
            "pass_position = attr_position;",
            "pass_normal = attr_normal;",
            "pass_texcoord = attr_texcoord;",
            "pass_tangent = attr_tangent;",
            "pass_bitangent = attr_bitangent;",
            "pass_blending = attr_blending;",
            "mat4 MVP = u_proj * u_view * u_model;",
            "gl_Position = MVP * pass_position;"
        ]
    },
    "pixel": {
        "in": [
            { "name": "pass_position",  "type": "vec4f" },
            { "name": "pass_normal",    "type": "vec4f" },
            { "name": "pass_texcoord",  "type": "vec4f" },
            { "name": "pass_tangent",   "type": "vec4f" },
            { "name": "pass_bitangent", "type": "vec4f" },
            { "name": "pass_blending" , "type": "vec4i" }
        ],
        "out": [
            { "name": "pass_color", "type": "vec4f" }
        ],
        "buffers": [
            { "name": "u_texture_dm", "type": "texture2d" },
            { "name": "u_texture_sm", "type": "texture2d" }
        ],
        "main": [
            "pass_color = texture(u_texture_dm, pass_texcoord.xy);"
        ]
    }
}